(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{29:function(e,n,a){e.exports=a(41)},34:function(e,n,a){},35:function(e,n,a){},41:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(19),c=a.n(o),l=(a(34),a(35),a(4)),i=a(5);function u(){var e=Object(l.a)(["\n  width: 25px;\n  height: 25px;\n  border: 1px solid;\n  border-bottom-color: grey;\n  border-right-color: grey;\n  background: ",";\n  transition: color 3s;\n  transition-delay: 1s;\n"]);return u=function(){return e},e}var s=i.a.div(u(),(function(e){return e.backgroud}));function d(){var e=Object(l.a)(["\n  display: grid;\n  border-top: grey 2px solid;\n  border-left: grey 2px solid;\n  width: 290px;\n  grid-template-columns: repeat(10, minmax(1em, 29px));\n"]);return d=function(){return e},e}var p=i.a.div(d()),f=Object(t.createContext)(),m=Object(t.createContext)();var g=function(e){var n=e.level,a=Object(t.useContext)(f),o=Object(t.useContext)(m),c=a.getNextShape,l=a.gameOver,i=a.startGame,u=a.gameStart,d=a.newGame,g=a.pause,h=o.setShape,b=o.setStage,x=o.setPos,y=o.moveShape,E=o.stage,v=o.color,k=o.shape;!function(e,n){var a=Object(t.useRef)();Object(t.useEffect)((function(){a.current=e}),[e]),Object(t.useEffect)((function(){if(null!==n){var e=setInterval((function(){a.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){g||l||!u||w()}),1e3);var w=function(){var e=new KeyboardEvent("keydown",{keyCode:160,which:160});y(e)};return Object(t.useEffect)((function(){i(),function(){c();var e=n,a=k;h(a),a.forEach((function(n){e[n[0]][n[1]]=[v]})),x(a),b(e)}()}),[d]),r.a.createElement("div",null,r.a.createElement(p,{role:"button",tabIndex:"0",onKeyDown:function(e){return y(e)}},E.map((function(e){return e.map((function(e,n){return r.a.createElement(s,{key:n,backgroud:e})}))}))))},h=a(54),b=a(23),x=a.n(b),y=a(24),E=a.n(y),v=a(26),k=a.n(v),w=a(25),O=a.n(w);function j(){var e=Object(l.a)(["\n  margin-bottom: 5px;\n  margin-right: 5px;\n  border-radius: 3px;\n  color: silver;\n  border: grey 3px solid;\n  text-shadow: 1px 1px 4px darkblue;\n\n  /* Color the border and text with theme.main */\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n  border: grey 3px solid;\n"]);return j=function(){return e},e}function S(){var e=Object(l.a)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin: 5px;\n  border-radius: 3px;\n  color: silver;\n  border: grey 3px solid;\n  text-shadow: 1px 1px 4px darkblue;\n\n  /* Color the border and text with theme.main */\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n  border: grey 1px solid;\n"]);return S=function(){return e},e}function C(){var e=Object(l.a)(["\n  position: absolute;\n  margin: 0 auto;\n  margin-left: 14px;\n  text-align: center;\n  top: 10%; /* Adjust this value to move the positioned div up and down */\n  color: silver;\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n  width: 300px;\n  border: grey 2px solid;\n  box-shadow: 2px 2px 1px darkblue;\n  text-shadow: 1px 1px 4px darkblue;\n"]);return C=function(){return e},e}function A(){var e=Object(l.a)(["\n  margin-bottom: 10px;\n  margin-left: 10px;\n  margin-right: 10px;\n  color: silver;\n  width: 80px;\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n\n  border: grey 2px solid;\n  box-shadow: 2px 2px 1px darkblue;\n  text-shadow: 1px 1px 4px darkblue;\n"]);return A=function(){return e},e}var R=i.a.div(A()),G=i.a.div(C()),T=i.a.button(S()),M=i.a.button(j());function F(){var e=Object(l.a)(["\n  display: grid;\n  margin-left: 9px;\n  grid-template-columns: repeat(4, minmax(0, 15px));\n  grid-template-rows: repeat(4, minmax(0, 15px));\n"]);return F=function(){return e},e}function B(){var e=Object(l.a)(["\n  width: 14px;\n  height: 14px;\n  border: 1px grey solid;\n  border-bottom-color: grey;\n  border-right-color: grey;\n  background: ",";\n  transition: color 3s;\n  transition-delay: 1s;\n"]);return B=function(){return e},e}var D=i.a.div(B(),(function(e){return e.backgroud})),P=i.a.div(F()),I=function(){var e=Object(t.useContext)(f),n=Object(t.useContext)(m),a=e.startGame,o=e.score,c=e.rows,l=e.nextShapeDisplayed,i=e.gameOver,u=e.pauseGame,s=e.resetGame,d=e.gameStart,p=e.pause,b=n.moveShape,y=Array.from(Array(20),(function(){return new Array(10).fill(["black"])})),v=function(e){var n=new KeyboardEvent("keydown",{keyCode:e,which:e});b(n)};return r.a.createElement("div",null,r.a.createElement(h.a,{style:{display:"flex",paddingTop:"10px"}},r.a.createElement(g,{level:y}),i?r.a.createElement(G,null,r.a.createElement("h1",null,"GAME OVER"),r.a.createElement(T,{onClick:function(){a(),s()}},r.a.createElement("h3",null,"RESTART"))):null,p&&!i?r.a.createElement(G,null,r.a.createElement("h1",null,"PAUSE"),r.a.createElement(T,{onClick:u},r.a.createElement("h3",null,"RESUME"))):null,d||i?null:r.a.createElement(G,null,r.a.createElement("h1",null,"PRESS START TO BEGIN"),r.a.createElement(T,{onClick:s},r.a.createElement("h3",null,"START"))),r.a.createElement("div",{style:{display:"grid"}},r.a.createElement(R,null,r.a.createElement("h3",null,"SCORE"),r.a.createElement("h3",null,o),r.a.createElement("h3",null,"ROWS"),r.a.createElement("h3",null,c)),r.a.createElement(R,{style:{display:"grid"}},r.a.createElement("h3",null,"NEXT"),r.a.createElement(P,{role:"button",tabIndex:"0"},l.length>0?l.map((function(e){return e.map((function(e,n){return r.a.createElement(D,{key:n,backgroud:e})}))})):null)),r.a.createElement(R,null,r.a.createElement(T,{onClick:u,disabled:p},r.a.createElement("h3",null,"PAUSE"))))),r.a.createElement(h.a,{style:{display:"flex",paddingTop:"10px",paddingLeft:"100px"}},r.a.createElement("div",null,r.a.createElement(M,{color:"primary",onClick:function(){return v(38)}},r.a.createElement(x.a,null)),r.a.createElement("div",null,r.a.createElement(M,{color:"primary",onClick:function(){return v(37)}},r.a.createElement(E.a,null)),r.a.createElement(M,{color:"primary",onClick:function(){return v(40)}},r.a.createElement(O.a,null)),r.a.createElement(M,{color:"primary",onClick:function(){return v(39)}},r.a.createElement(k.a,null))))))},N=a(3),K=a(16),U=function(e,n){switch(n.type){case 0:return Object(N.a)({},e,{score:n.payload});case 9:return Object(N.a)({},e,{rows:n.payload});case 1:return Object(N.a)({},e,{nextShape:n.payload});case 5:return Object(N.a)({},e,{nextColor:n.payload});case 6:return Object(N.a)({},e,{nextShapeDisplayed:n.payload});case 2:return Object(N.a)({},e,{score:0,rows:0,pause:!1,gameOver:!1,gameStart:!0,newGame:!1});case 8:return Object(N.a)({},e,{newGame:!0});case 3:return Object(N.a)({},e,{pause:!0});case 7:return Object(N.a)({},e,{pause:!1});case 4:return Object(N.a)({},e,{pause:!1,gameOver:!0,gameStart:!1});default:return e}},W=[[0,0],[0,1],[0,2],[0,3]],J=[[0,0],[0,1],[0,2],[1,1]],L=[[0,0],[0,1],[0,2],[1,2]],V=[[0,0],[0,1],[0,2],[1,0]],X=[[0,0],[0,1],[1,1],[1,2]],$=[[0,1],[0,2],[1,0],[1,1]],q=["linear-gradient(90deg, #1CB5E0 0%, #000851 100%)","linear-gradient(90deg, #00C9FF 0%, #92FE9D 100%)","linear-gradient(90deg, #FC466B 0%, #3F5EFB 100%)","linear-gradient(90deg, #3F2B96 0%, #A8C0FF 100%)","linear-gradient(90deg, #FDBB2D 0%, #3A1C71 100%)","linear-gradient(90deg, #e3ffe7 0%, #d9e7ff 100%)","linear-gradient(90deg, #9ebd13 0%, #008552 100%)","linear-gradient(90deg, #0700b8 0%, #00ff88 100%)","linear-gradient(90deg, #d53369 0%, #daae51 100%)","linear-gradient(90deg, #fcff9e 0%, #c67700 100%)"],z=[W,[[0,0],[0,1],[1,0],[1,1]],J,V,L,X,$],H=function(){var e=Math.floor(4*Math.random())+Math.floor(3*Math.random());return z[e]},Q=function(){var e=Math.floor(5*Math.random())+Math.floor(5*Math.random());return q[e]},Y=function(e){var n=Array.from(Array(4),(function(){return new Array(4).fill(["black"])})),a=Object(t.useReducer)(U,{newGame:!1,gameStart:!1,score:0,rows:0,pause:!1,gameOver:!1,nextShape:[],nextColor:"",nextShapeDisplayed:[]}),o=Object(K.a)(a,2),c=o[0],l=o[1];return r.a.createElement(f.Provider,{value:Object(N.a)({},c,{addToScore:function(e){var n=c.score+e;l({type:0,payload:n})},resetGame:function(){l({type:2})},getNextShape:function(){var e=H(),a=Q();e.forEach((function(e){n[e[0]][e[1]]=[a]})),l({type:1,payload:e}),l({type:5,payload:a}),l({type:6,payload:n})},setGameOver:function(){l({type:4})},pauseGame:function(){c.pause?l({type:7}):l({type:3})},startGame:function(){l({type:8})},addToRows:function(e){var n=c.rows+e;l({type:9,payload:n})}})},e.children)},Z=function(e,n){switch(n.type){case 10:return Object(N.a)({},e,{pos:n.payload});case 11:return Object(N.a)({},e,{rotate:n.payload});case 15:return Object(N.a)({},e,{shape:n.payload});case 12:return Object(N.a)({},e,{color:n.payload});case 14:return Object(N.a)({},e,{stage:n.payload});default:return e}},_=function(e){var n={pos:[],rotate:0,color:Q(),stage:[],shape:H()},a=Object(t.useReducer)(Z,n),o=Object(K.a)(a,2),c=o[0],l=o[1],i=Object(t.useContext)(f),u=i.getNextShape,s=i.setGameOver,d=i.addToScore,p=i.addToRows,g=i.gameOver,h=i.pause,b=i.nextColor,x=i.nextShape,y=function(e){l({type:10,payload:e})},E=function(e){l({type:11,payload:e})},v=function(e){l({type:12,payload:e})},k=function(e){l({type:14,payload:e})},w=function(e){l({type:15,payload:e})},O=function(){var e=[],n=c.stage;c.stage.forEach((function(n,a){var t=!0;n.forEach((function(e,n){"black"===c.stage[a][n][0]&&(t=!1)})),t&&e.push(a)})),e.forEach((function(e){for(var a=e;a>=1;a--)for(var t=0;t<c.stage[0].length;t++)n[a][t]=[c.stage[a-1][t][0]];d(100),p(1)})),k(n)},j=function(e){var n=c.stage;c.pos.forEach((function(e){n[e[0]][e[1]]=["black"]})),e.forEach((function(e){n[e[0]][e[1]]=[c.color]})),k(n)};return r.a.createElement(m.Provider,{value:Object(N.a)({},c,{setPos:y,setRotate:E,setColor:v,setStage:k,setShape:w,moveShape:function(e){var n=e.keyCode;if(!h&&!g&&n>=36&&n<=40||160===n){var a=[];switch(n){case 38:a=function(e,n,a){var t=e;if(n===W)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]],[e[1][0]+1,e[1][1]-1],[e[2][0]+2,e[2][1]-2],[e[3][0]+3,e[3][1]-3]];break;case 1:case 3:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0]-2,e[2][1]+2],[e[3][0]-3,e[3][1]+3]]}else if(n===J)switch(a){case 0:t=[[e[0][0]+1,e[0][1]],[e[1][0],e[1][1]],[e[2][0]+2,e[2][1]-1],[e[3][0],e[3][1]]];break;case 1:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]-1,e[2][1]+1],[e[3][0],e[3][1]]];break;case 2:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]-1],[e[2][0],e[2][1]-1],[e[3][0]+1,e[3][1]-1]];break;case 3:t=[[e[1][0],e[1][1]],[e[0][0]-1,e[0][1]+1],[e[3][0]-2,e[3][1]+2],[e[2][0],e[2][1]]]}else if(n===V)switch(a){case 0:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]+1,e[2][1]-1],[e[3][0]+1,e[3][1]+1]];break;case 1:t=[[e[0][0],e[0][1]+2],[e[1][0]+1,e[1][1]-1],[e[2][0],e[2][1]],[e[3][0]-1,e[3][1]+1]];break;case 2:t=[[e[0][0],e[0][1]-2],[e[1][0],e[1][1]],[e[2][0]+1,e[2][1]-1],[e[3][0]+1,e[3][1]-1]];break;case 3:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0]-2,e[2][1]+2],[e[3][0]-1,e[3][1]-1]]}else if(n===L)switch(a){case 0:t=[[e[0][0],e[0][1]+1],[e[1][0]+1,e[1][1]],[e[2][0]+2,e[2][1]-2],[e[3][0]+1,e[3][1]-1]];break;case 1:t=[[e[0][0],e[0][1]-1],[e[1][0],e[1][1]-1],[e[2][0]-1,e[2][1]+1],[e[3][0]-1,e[3][1]+1]];break;case 2:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0],e[2][1]-1],[e[3][0]+1,e[3][1]-2]];break;case 3:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]-1,e[2][1]+2],[e[3][0]-1,e[3][1]+2]]}else if(n===X)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]+1],[e[1][0]+1,e[1][1]-1],[e[2][0],e[2][1]],[e[3][0]+1,e[3][1]-2]];break;case 1:case 3:t=[[e[0][0],e[0][1]-1],[e[1][0]-1,e[1][1]+1],[e[2][0],e[2][1]],[e[3][0]-1,e[3][1]+2]]}else if(n===$)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]-1],[e[1][0]+1,e[1][1]-2],[e[2][0],e[2][1]+1],[e[3][0]+1,e[3][1]]];break;case 1:case 3:t=[[e[0][0],e[0][1]+1],[e[1][0]-1,e[1][1]+2],[e[2][0],e[2][1]-1],[e[3][0]-1,e[3][1]]]}return t}(c.pos,c.shape,c.rotate);break;case 40:c.pos.forEach((function(e){a.push([e[0]+1,e[1]])})),d(10);break;case 37:c.pos.forEach((function(e){a.push([e[0],e[1]-1])}));break;case 39:c.pos.forEach((function(e){a.push([e[0],e[1]+1])}));break;default:c.pos.forEach((function(e){a.push([e[0]+1,e[1]])}))}!function(e,n,a){var t=!1;if(e.forEach((function(e){(e[0]>=a.length||e[0]<0||e[1]>=a[0].length||e[1]<0)&&(t=!0)})),t)return t;var r=a;return n.forEach((function(e){r[e[0]][e[1]]=["black"]})),e.forEach((function(e){"black"!==r[e[0]][e[1]][0]&&(t=!0)})),t}(a,c.pos,c.stage)?(38===n&&(3===c.rotate?E(0):E(c.rotate+1)),j(a),y(a)):40!==n&&160!==n||(1===a[0][0]?s():(j(c.pos),O(),v(b),y(x),w(x),E(0),u()))}},clearRows:O})},e.children)},ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null,r.a.createElement(_,null,r.a.createElement("header",null),r.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.052e9e2d.chunk.js.map