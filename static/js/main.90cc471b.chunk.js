(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{16:function(e,n,a){e.exports=a(27)},21:function(e,n,a){},22:function(e,n,a){},27:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),c=a(10),o=a.n(c),i=(a(21),a(22),a(4)),l=a(2),u=a(3);function s(){var e=Object(l.a)(["\n  width: 25px;\n  height: 25px;\n  border: 1px solid;\n  border-bottom-color: grey;\n  border-right-color: grey;\n  background: ",";\n  transition: color 3s;\n  transition-delay: 1s;\n"]);return s=function(){return e},e}var d=u.a.div(s(),(function(e){return e.backgroud}));function f(){var e=Object(l.a)(["\n  display: grid;\n  border-top: grey 2px solid;\n  border-left: grey 2px solid;\n  width: 290px;\n  grid-template-columns: repeat(10, minmax(1em, 29px));\n"]);return f=function(){return e},e}var p=u.a.div(f()),m=[[0,0],[0,1],[0,2],[0,3]],b=[[0,0],[0,1],[0,2],[1,1]],h=[[0,0],[0,1],[0,2],[1,2]],g=[[0,0],[0,1],[0,2],[1,0]],x=[[0,0],[0,1],[1,1],[1,2]],v=[[0,1],[0,2],[1,0],[1,1]],E=["linear-gradient(90deg, #1CB5E0 0%, #000851 100%)","linear-gradient(90deg, #00C9FF 0%, #92FE9D 100%)","linear-gradient(90deg, #FC466B 0%, #3F5EFB 100%)","linear-gradient(90deg, #3F2B96 0%, #A8C0FF 100%)","linear-gradient(90deg, #FDBB2D 0%, #3A1C71 100%)","linear-gradient(90deg, #e3ffe7 0%, #d9e7ff 100%)","linear-gradient(90deg, #9ebd13 0%, #008552 100%)","linear-gradient(90deg, #0700b8 0%, #00ff88 100%)","linear-gradient(90deg, #d53369 0%, #daae51 100%)","linear-gradient(90deg, #fcff9e 0%, #c67700 100%)"],y=[m,[[0,0],[0,1],[1,0],[1,1]],b,g,h,x,v],k=function(){var e=Math.floor(4*Math.random())+Math.floor(3*Math.random());return y[e]},O=function(){var e=2*Math.floor(5*Math.random());return E[e]},w=Object(t.createContext)();var j=function(e){var n=e.level,a=Object(t.useContext)(w),c=a.addToScore,o=a.addToRows,l=a.getNextShape,u=a.setGameOver,s=a.nextShape,f=a.nextColor,E=a.gameOver,y=a.startGame,j=a.newGame,S=a.pause,C=Object(t.useState)(),A=Object(i.a)(C,2),G=A[0],R=A[1],T=Object(t.useState)(0),F=Object(i.a)(T,2),B=F[0],M=F[1],D=Object(t.useState)(O),I=Object(i.a)(D,2),N=I[0],P=I[1],U=Object(t.useState)([]),W=Object(i.a)(U,2),z=W[0],J=W[1],K=Object(t.useState)(n),V=Object(i.a)(K,2),X=V[0],$=V[1];!function(e,n){var a=Object(t.useRef)();Object(t.useEffect)((function(){a.current=e}),[e]),Object(t.useEffect)((function(){if(null!==n){var e=setInterval((function(){a.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){S||E||H()}),1e3);var q=function(e){var n=X;G.forEach((function(e){n[e[0]][e[1]]=["black"]})),e.forEach((function(e){n[e[0]][e[1]]=[N]})),$(n)},H=function(){var e=new KeyboardEvent("keydown",{keyCode:160,which:160});L(e)},L=function(e){var a=e.keyCode;if(!S&&!E&&a>=36&&a<=40||160===a){var t=[];switch(a){case 38:t=function(e,n,a){var t=e;if(n===m)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]],[e[1][0]+1,e[1][1]-1],[e[2][0]+2,e[2][1]-2],[e[3][0]+3,e[3][1]-3]];break;case 1:case 3:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0]-2,e[2][1]+2],[e[3][0]-3,e[3][1]+3]]}else if(n===b)switch(a){case 0:t=[[e[0][0]+1,e[0][1]],[e[1][0],e[1][1]],[e[2][0]+2,e[2][1]-1],[e[3][0],e[3][1]]];break;case 1:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]-1,e[2][1]+1],[e[3][0],e[3][1]]];break;case 2:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]-1],[e[2][0],e[2][1]-1],[e[3][0]+1,e[3][1]-1]];break;case 3:t=[[e[1][0],e[1][1]],[e[0][0]-1,e[0][1]+1],[e[3][0]-2,e[3][1]+2],[e[2][0],e[2][1]]]}else if(n===g)switch(a){case 0:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]+1,e[2][1]-1],[e[3][0]+1,e[3][1]+1]];break;case 1:t=[[e[0][0],e[0][1]+2],[e[1][0]+1,e[1][1]-1],[e[2][0],e[2][1]],[e[3][0]-1,e[3][1]+1]];break;case 2:t=[[e[0][0],e[0][1]-2],[e[1][0],e[1][1]],[e[2][0]+1,e[2][1]-1],[e[3][0]+1,e[3][1]-1]];break;case 3:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0]-2,e[2][1]+2],[e[3][0]-1,e[3][1]-1]]}else if(n===h)switch(a){case 0:t=[[e[0][0],e[0][1]+1],[e[1][0]+1,e[1][1]],[e[2][0]+2,e[2][1]-2],[e[3][0]+1,e[3][1]-1]];break;case 1:t=[[e[0][0],e[0][1]-1],[e[1][0],e[1][1]-1],[e[2][0]-1,e[2][1]+1],[e[3][0]-1,e[3][1]+1]];break;case 2:t=[[e[0][0],e[0][1]],[e[1][0]-1,e[1][1]+1],[e[2][0],e[2][1]-1],[e[3][0]+1,e[3][1]-2]];break;case 3:t=[[e[0][0],e[0][1]],[e[1][0],e[1][1]],[e[2][0]-1,e[2][1]+2],[e[3][0]-1,e[3][1]+2]]}else if(n===x)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]+1],[e[1][0]+1,e[1][1]-1],[e[2][0],e[2][1]],[e[3][0]+1,e[3][1]-2]];break;case 1:case 3:t=[[e[0][0],e[0][1]-1],[e[1][0]-1,e[1][1]+1],[e[2][0],e[2][1]],[e[3][0]-1,e[3][1]+2]]}else if(n===v)switch(a){case 0:case 2:t=[[e[0][0],e[0][1]-1],[e[1][0]+1,e[1][1]-2],[e[2][0],e[2][1]+1],[e[3][0]+1,e[3][1]]];break;case 1:case 3:t=[[e[0][0],e[0][1]+1],[e[1][0]-1,e[1][1]+2],[e[2][0],e[2][1]-1],[e[3][0]-1,e[3][1]]]}return t}(G,z,B);break;case 40:G.forEach((function(e){t.push([e[0]+1,e[1]])})),c(10);break;case 37:G.forEach((function(e){t.push([e[0],e[1]-1])}));break;case 39:G.forEach((function(e){t.push([e[0],e[1]+1])}));break;default:G.forEach((function(e){t.push([e[0]+1,e[1]])}))}!function(e){var a=!1;if(e.forEach((function(e){(e[0]>=n.length||e[0]<0||e[1]>=n[0].length||e[1]<0)&&(a=!0)})),a)return a;var t=X;return G.forEach((function(e){t[e[0]][e[1]]=["black"]})),e.forEach((function(e){"black"!==t[e[0]][e[1]][0]&&(a=!0)})),a}(t)?(38===a&&M(3===B?0:B+1),q(t),R(t)):40!==a&&160!==a||(1===t[0][0]?u():(q(G),function(){var e=[];X.forEach((function(n,a){var t=!0;n.forEach((function(e,n){"black"===X[a][n][0]&&(t=!1)})),t&&e.push(a)})),e.forEach((function(e){for(var n=e;n>=1;n--)for(var a=0;a<X[0].length;a++)X[n][a]=[X[n-1][a][0]];c(100),o(1)})),$(X)}(),P(f),R(s),J(s),M(0),l()))}};return Object(t.useEffect)((function(){y(),function(){l();var e=n,a=k();J(a),a.forEach((function(n){e[n[0]][n[1]]=[N]})),R(a),$(e)}()}),[j]),r.a.createElement("div",null,r.a.createElement(p,{role:"button",tabIndex:"0",onKeyDown:function(e){return L(e)}},X.map((function(e){return e.map((function(e,n){return r.a.createElement(d,{key:n,backgroud:e})}))}))))},S=a(39);function C(){var e=Object(l.a)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin: 5px;\n  border-radius: 3px;\n  color: silver;\n  border: grey 3px solid;\n  font-size: 3vw;\n  text-shadow: 1px 1px 4px darkblue;\n\n  /* Color the border and text with theme.main */\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n  border: grey 1px solid;\n"]);return C=function(){return e},e}function A(){var e=Object(l.a)(["\n  position: absolute;\n  z-index: 999;\n  margin: 0 auto;\n  margin-left: 14px;\n  text-align: center;\n  top: 10%; /* Adjust this value to move the positioned div up and down */\n  color: silver;\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n  width: 300px;\n  border: grey 2px solid;\n  box-shadow: 2px 2px 1px darkblue;\n  text-shadow: 1px 1px 4px darkblue;\n"]);return A=function(){return e},e}function G(){var e=Object(l.a)(["\n  margin-bottom: 10px;\n  margin-left: 10px;\n  margin-right: 10px;\n  color: silver;\n  width: 80px;\n  background-image: linear-gradient(\n    to right,\n    #16222a 0%,\n    #3a6073 51%,\n    #16222a 100%\n  );\n\n  border: grey 2px solid;\n  box-shadow: 2px 2px 1px darkblue;\n  text-shadow: 1px 1px 4px darkblue;\n"]);return G=function(){return e},e}var R=u.a.div(G()),T=u.a.div(A()),F=u.a.button(C());function B(){var e=Object(l.a)(["\n  display: grid;\n  margin-left: 9px;\n  grid-template-columns: repeat(4, minmax(0, 15px));\n  grid-template-rows: repeat(4, minmax(0, 15px));\n"]);return B=function(){return e},e}function M(){var e=Object(l.a)(["\n  width: 14px;\n  height: 14px;\n  border: 1px grey solid;\n  border-bottom-color: grey;\n  border-right-color: grey;\n  background: ",";\n  transition: color 3s;\n  transition-delay: 1s;\n"]);return M=function(){return e},e}var D=u.a.div(M(),(function(e){return e.backgroud})),I=u.a.div(B()),N=function(){var e=Object(t.useContext)(w),n=e.startGame,a=e.score,c=e.rows,o=e.nextShapeDisplayed,i=e.gameOver,l=e.pauseGame,u=e.resetGame,s=e.gameStart,d=e.pause,f=Array.from(Array(20),(function(){return new Array(10).fill(["black"])}));return r.a.createElement("div",null,r.a.createElement(S.a,{style:{display:"flex",paddingTop:"10px"}},r.a.createElement(j,{level:f}),i?r.a.createElement(T,null,r.a.createElement("h1",null,"GAME OVER"),r.a.createElement(F,{onClick:function(){n(),u()}},r.a.createElement("h2",null,"RESTART"))):null,d&!i?r.a.createElement(T,null,r.a.createElement("h1",null,"PAUSE"),r.a.createElement(F,{onClick:l},r.a.createElement("h2",null,"RESUME"))):null,s||i?null:r.a.createElement(T,null,r.a.createElement("h1",null,"PRESS START TO BEGIN"),r.a.createElement(F,{onClick:u},r.a.createElement("h2",null,"START"))),r.a.createElement("div",{style:{display:"grid"}},r.a.createElement(R,null,r.a.createElement("h3",null,"SCORE"),r.a.createElement("h3",null,a),r.a.createElement("h3",null,"ROWS"),r.a.createElement("h3",null,c)),r.a.createElement(R,{style:{display:"grid"}},r.a.createElement("h3",null,"NEXT"),r.a.createElement(I,{role:"button",tabIndex:"0"},o.length>0?o.map((function(e){return e.map((function(e,n){return r.a.createElement(D,{key:n,backgroud:e})}))})):null)),r.a.createElement(R,null,r.a.createElement(F,{onClick:l},r.a.createElement("h4",null,"PAUSE"))))))},P=a(1),U=function(e,n){switch(n.type){case 0:return Object(P.a)({},e,{score:n.payload});case 9:return Object(P.a)({},e,{rows:n.payload});case 1:return Object(P.a)({},e,{nextShape:n.payload});case 5:return Object(P.a)({},e,{nextColor:n.payload});case 6:return Object(P.a)({},e,{nextShapeDisplayed:n.payload});case 2:return Object(P.a)({},e,{score:0,rows:0,pause:!1,gameOver:!1,gameStart:!0,newGame:!1});case 8:return Object(P.a)({},e,{newGame:!0});case 3:return Object(P.a)({},e,{pause:!0});case 7:return Object(P.a)({},e,{pause:!1});case 4:return Object(P.a)({},e,{pause:!0,gameOver:!0,gameStart:!1});default:return e}},W=function(e){var n=Array.from(Array(4),(function(){return new Array(4).fill(["black"])})),a=Object(t.useReducer)(U,{newGame:!1,gameStart:!1,score:0,rows:0,pause:!0,gameOver:!1,nextShape:[],nextColor:"",nextShapeDisplayed:[]}),c=Object(i.a)(a,2),o=c[0],l=c[1];return r.a.createElement(w.Provider,{value:Object(P.a)({},o,{addToScore:function(e){var n=o.score+e;l({type:0,payload:n})},resetGame:function(){l({type:2})},getNextShape:function(){var e=k(),a=O();e.forEach((function(e){n[e[0]][e[1]]=[a]})),l({type:1,payload:e}),l({type:5,payload:a}),l({type:6,payload:n})},setGameOver:function(){l({type:4})},pauseGame:function(){o.pause?l({type:7}):l({type:3})},startGame:function(){l({type:8})},addToRows:function(e){var n=o.rows+e;l({type:9,payload:n})}})},e.children)},z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(W,null,r.a.createElement("header",null),r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.90cc471b.chunk.js.map